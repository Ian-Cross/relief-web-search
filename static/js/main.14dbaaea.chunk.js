(this.webpackJsonpreliefwebsearch=this.webpackJsonpreliefwebsearch||[]).push([[0],{15:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n.n(r),s=n(9),c=n(4),i=n(6),u=n(7),o=n(1),l=n(0);t.default=function(){var e=Object(o.useState)([]),t=Object(u.a)(e,2),n=t[0],r=t[1],p=Object(o.useState)([]),b=Object(u.a)(p,2),d=b[0],f=b[1],h=function(){var e=Object(i.a)(a.a.mark((function e(){var t,n,r,i,u,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.reliefweb.int/v1/reports","appname=rwint-user-0",t={limit:100,profile:"list",preset:"latest",slim:"1",query:{value:"WFP Syria Situation Report",operator:"AND"}},e.next=5,fetch("https://api.reliefweb.int/v1/reports?appname=rwint-user-0",{method:"POST",cache:"no-cache",body:JSON.stringify(t)});case 5:return n=e.sent,e.next=8,n.json();case 8:n=e.sent,r=[],i=Object(c.a)(n.data),e.prev=11,i.s();case 13:if((u=i.n()).done){e.next=24;break}if("World Food Programme"===(o=u.value).fields.source[0].name){e.next=17;break}return e.abrupt("continue",22);case 17:if("Syrian Arab Republic"===o.fields.primary_country.name){e.next=19;break}return e.abrupt("continue",22);case 19:if(o.fields.title.includes("WFP")){e.next=21;break}return e.abrupt("continue",22);case 21:r.push(Object(s.a)({id:o.id,score:o.score},o.fields));case 22:e.next=13;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(11),i.e(e.t0);case 29:return e.prev=29,i.f(),e.finish(29);case 32:f(r);case 33:case"end":return e.stop()}}),e,null,[[11,26,29,32]])})));return function(){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){function e(){return(e=Object(i.a)(a.a.mark((function e(){var t,n,s,i,u,o,l,p,b,f,h,j,v,x,O;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],n=Object(c.a)(d),e.prev=2,n.s();case 4:if((s=n.n()).done){e.next=42;break}return i=s.value,u={},e.next=9,fetch("https://api.reliefweb.int/v1/reports/"+i.id);case 9:return o=e.sent,e.next=12,o.json();case 12:o=e.sent,u.link=o.data[0].fields.url,u.country=i.country[0].name,u.title=i.title,l=o.data[0].fields["body-html"].split("\n"),p=[],b=Object(c.a)(l),e.prev=19,b.s();case 21:if((f=b.n()).done){e.next=28;break}if(""!==(h=f.value)){e.next=25;break}return e.abrupt("continue",26);case 25:p.push(h.replace(/<\/?[^>]*>/g,""));case 26:e.next=21;break;case 28:e.next=33;break;case 30:e.prev=30,e.t0=e.catch(19),b.e(e.t0);case 33:return e.prev=33,b.f(),e.finish(33);case 36:for(j=!1,u.numbers=[],v=0,x=p;v<x.length;v++)((O=x[v]).toLowerCase().includes("highlights")||O.toLowerCase().includes("situation update")||O.toLowerCase().includes("operational updates"))&&(j=!1),O.toLowerCase().includes("in numbers")?j=!0:j&&u.numbers.push(O);t.push(JSON.parse(JSON.stringify(u)));case 40:e.next=4;break;case 42:e.next=47;break;case 44:e.prev=44,e.t1=e.catch(2),n.e(e.t1);case 47:return e.prev=47,n.f(),e.finish(47);case 50:r(t);case 51:case"end":return e.stop()}}),e,null,[[2,44,47,50],[19,30,33,36]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[d]),Object(l.jsxs)("div",{children:[Object(l.jsx)("button",{onClick:h,children:"Fetch"}),n.map((function(e,t){return Object(l.jsxs)("div",{style:{border:"1px solid red"},children:[Object(l.jsxs)("div",{children:["Country: ",e.country]}),Object(l.jsx)("div",{children:Object(l.jsxs)("a",{target:"_blank",rel:"noreferrer",href:e.link,children:["Title: ",e.title,":"]})}),Object(l.jsx)("div",{children:e.numbers.map((function(e,t){return Object(l.jsx)("div",{children:e},t+"number")}))})]},t)}))]})}},17:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),s=n(8),c=n.n(s),i=n(0),u=n(15).default;var o=function(){return Object(i.jsx)("div",{className:"App",children:Object(i.jsx)(u,{})})},l=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,18)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),s(e),c(e)}))};c.a.render(Object(i.jsx)(a.a.StrictMode,{children:Object(i.jsx)(o,{})}),document.getElementById("root")),l()}},[[17,1,2]]]);
//# sourceMappingURL=main.14dbaaea.chunk.js.map